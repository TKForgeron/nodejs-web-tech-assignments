<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="/styles/style.css">
    <link rel="icon" href="/images/uulogo.png" type="image/png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial scale=1">
    <meta name="description" content="5-question quiz about JavaScript">
    <meta name="keywords" content="JavaScript, questions, test yourself">
    <title>JavaScript - Assessment</title>
</head>
<body>
<header class="header">
    <a href="https://www.javascript.com/" target="_blank" title="Go to JavaScript.com"><img src="/images/javascriptlogo.png" alt="JavaScript logo" class="header__img header__img--left"></a>
    <a href="https://www.uu.nl/" target="_blank" title="Go to uu.nl"><img src="/images/uulogo.png" alt="Utrecht Univesity logo" class="header__img header__img--right"></a>
    <a href="../public/index.html"><h1>JavaScript</h1></a>
</header>
<nav class="nav">
</nav>

<form id='formpie'>
    <label>
        <input name="open" type="text" required>
    </label>
    <button id="submit" onclick="answer();return false;">Submit</button>
    <!--<button id="submit">Submit</button>-->
</form>

<footer>
</footer>

<script type="text/javascript">
function answer (){

    var quizNumber = "0";           //  Gather this from the webpage
    var questionNumber = "2";       // Gather this from the webpage
    var provAnswer = document.getElementsByTagName("input")[0].value
    const xmlHttp = new XMLHttpRequest();
    var subObj = {name:provAnswer};
    //let submission = new FormData();
    //submission.append("submission", JSON.stringify(subObj));                            //Ask TA whether this is allowed!!!


    xmlHttp.onreadystatechange = function() {
        if(xmlHttp.readyState === 4 && xmlHttp.status === 200){
            console.log(xmlHttp.responseText);
        }
    };

    const method = 'get';
    xmlHttp.open(method, "/topics");     // Put the filepath to Express middleware that handles the request here (PHP is now acting server)
    
    if (method == 'get' || method == 'delete') {
        xmlHttp.send();
    } else if (method == 'post'|| method == 'patch') {
        xmlHttp.send(JSON.stringify(subObj));
    }
    return false;
}

//const bttn = document.getElementById("submit");
//bttn.addEventListener("click", () => {answer();});
</script>
<!--<script type="text/javascript" src="../public/js/questions.js"></script>-->
</body>
</html>